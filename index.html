<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>F√© Power-Up: Curso de Crisma</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --duo-green: #58cc02;
            --duo-dark-green: #40a000;
            --duo-blue: #1cb0f6;
            --duo-yellow: #ffc800;
            --duo-red: #ff4b4b;
            --duo-light-gray: #f7f7f7;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--duo-light-gray);
            overscroll-behavior-y: none;
            -webkit-tap-highlight-color: transparent;
        }

        .duo-header { background-color: white; border-bottom: 2px solid #e5e5e5; }
        
        .duo-start-btn {
            background-color: var(--duo-green);
            border-bottom: 4px solid var(--duo-dark-green);
            transition: all 0.1s;
        }
        .duo-start-btn:active { transform: translateY(2px); border-bottom-width: 0px; margin-top: 4px; }
        
        .duo-option-btn {
            background-color: white;
            border: 2px solid #e5e5e5;
            border-bottom: 4px solid #e5e5e5;
        }
        .duo-option-btn:active { border-bottom-width: 2px; transform: translateY(2px); }
        .duo-selected { border-color: var(--duo-blue) !important; background-color: #ddf4ff !important; color: var(--duo-blue); }
        .duo-correct { background-color: #d7ffb8 !important; border-color: var(--duo-green) !important; color: var(--duo-dark-green); }
        .duo-wrong { background-color: #ffdde0 !important; border-color: var(--duo-red) !important; color: var(--duo-red); }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 2px solid #e5e5e5;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 50;
            padding-bottom: env(safe-area-inset-bottom);
            height: 70px;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #afafaf;
            font-size: 0.7rem;
            font-weight: bold;
            text-transform: uppercase;
        }
        .nav-item.active { color: var(--duo-blue); }
        .nav-item svg { width: 26px; height: 26px; margin-bottom: 4px; }

        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide-up { animation: slideUp 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <!-- Tela de Carregamento -->
    <div id="loading-screen" class="fixed inset-0 bg-white z-[60] flex flex-col items-center justify-center p-4 text-center">
        <div id="loading-spinner">
            <svg class="animate-spin h-12 w-12 text-duo-green mb-4 mx-auto" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p class="text-xl font-bold text-gray-700">Conectando ao Curso...</p>
        </div>
        <div id="error-message" class="hidden">
            <p class="text-red-500 font-bold mb-4">Ocorreu um erro ao carregar.</p>
            <button onclick="location.reload()" class="bg-gray-200 px-4 py-2 rounded font-bold text-gray-700">Tentar Novamente</button>
        </div>
    </div>

    <!-- Modal de Nome -->
    <div id="name-modal" class="fixed inset-0 z-[60] hidden items-center justify-center p-4 bg-black bg-opacity-60 backdrop-blur-sm">
        <div class="bg-white rounded-2xl p-6 shadow-2xl w-full max-w-sm text-center animate-slide-up">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">Bem-vindo!</h2>
            <p class="text-gray-600 mb-6">Qual seu nome para o Ranking?</p>
            <input type="text" id="user-name-input" placeholder="Digite seu nome" class="w-full border-2 border-gray-300 rounded-xl p-3 text-lg mb-4 text-center font-bold outline-none focus:border-duo-blue">
            <button onclick="window.App.saveUserName()" class="w-full duo-start-btn text-white font-bold py-3 rounded-xl uppercase tracking-wider">Come√ßar</button>
        </div>
    </div>

    <!-- Header -->
    <header class="duo-header p-3 sticky top-0 z-40 shadow-sm flex justify-between items-center px-4 safe-top">
        <span class="font-extrabold text-xl tracking-tight text-duo-green" id="header-title">F√© Power-Up</span>
        <div class="flex items-center space-x-2">
            <div class="flex items-center bg-yellow-100 px-3 py-1 rounded-full border border-yellow-400">
                <span class="mr-1 text-yellow-600">‚òÖ</span>
                <span id="current-score" class="text-yellow-700 font-bold">0</span>
            </div>
            <div id="hearts-display" class="hidden flex items-center text-duo-red font-bold">
                <span class="mr-1">‚ù§Ô∏è</span>
                <span id="hearts-count">5</span>
            </div>
        </div>
    </header>

    <!-- App Container -->
    <div id="app" class="flex flex-col w-full max-w-2xl mx-auto h-full overflow-y-auto"></div>

    <!-- Menu Inferior -->
    <nav class="bottom-nav">
        <button onclick="window.App.navigateTo('map')" class="nav-item active" id="nav-map">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
            Aulas
        </button>
        <button onclick="window.App.loadLeaderboard()" class="nav-item" id="nav-ranking">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 22h16"></path><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path></svg>
            Ranking
        </button>
    </nav>

    <!-- Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot, collection, query, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // CONFIGURA√á√ÉO FIREBASE
        const appId = 'crisma-2026';
        const firebaseConfig = {
            apiKey: "AIzaSyCoR6nlyCfsozUpwLo7iB8bUgQ-fdQ_14o",
            authDomain: "curso26-bcabf.firebaseapp.com",
            projectId: "curso26-bcabf",
            storageBucket: "curso26-bcabf.firebasestorage.app",
            messagingSenderId: "691991061470",
            appId: "1:691991061470:web:7a5fa026c4f836069d734f"
        };

        let db, auth;

        window.initializeFirebase = async () => {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                setTimeout(() => {
                    if (document.getElementById('loading-screen') && !document.getElementById('loading-screen').classList.contains('hidden')) {
                        document.getElementById('loading-spinner').classList.add('hidden');
                        document.getElementById('error-message').classList.remove('hidden');
                    }
                }, 8000);

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        window.App.init(db, user.uid);
                    } else {
                        signInAnonymously(auth).catch(e => console.error(e));
                    }
                });
            } catch (error) {
                console.error("Erro Firebase:", error);
                document.getElementById('loading-spinner').classList.add('hidden');
                document.getElementById('error-message').classList.remove('hidden');
                document.getElementById('error-message').querySelector('p').innerText = "Erro ao conectar.";
            }
        };

        window.startProgressListener = function(userId) {
            const docRef = doc(db, 'artifacts', appId, 'users', userId, 'progress', 'crisma');
            onSnapshot(docRef, (docSnap) => {
                if (docSnap.exists()) {
                    window.App.setUserProgress(docSnap.data());
                } else {
                    window.App.setUserProgress({ score: 0, completedLessons: {}, name: null });
                }
                const screen = document.getElementById('loading-screen');
                if(screen) screen.classList.add('hidden');
            }, (error) => {
                console.error("Erro snapshot:", error);
            });
        };

        window.saveProgress = async (progress) => {
            if (!window.App.userId || !db) return;
            const userRef = doc(db, 'artifacts', appId, 'users', window.App.userId, 'progress', 'crisma');
            await setDoc(userRef, progress, { merge: true });

            if (progress.name) {
                const lbRef = doc(db, 'artifacts', appId, 'leaderboard', window.App.userId);
                await setDoc(lbRef, { name: progress.name, score: progress.score });
            }
        };

        window.getLeaderboard = async () => {
            try {
                const q = query(collection(db, 'artifacts', appId, 'leaderboard'), orderBy("score", "desc"), limit(20));
                const snap = await getDocs(q);
                let leaders = [];
                snap.forEach(d => leaders.push(d.data()));
                return leaders;
            } catch (e) {
                console.error(e);
                return [];
            }
        };

        window.onload = initializeFirebase;
    </script>

    <script type="text/javascript">
        // --- CONTE√öDO DO CURSO COMPLETO (1-28) ---
        const courseData = {
            1: {
                id: 1,
                title: "Ora√ß√£o - Nossa F√© nos Reuniu",
                bible_ref: "Hebreus 11,6-12",
                points: 200,
                content: [
                    "**O que √© Ora√ß√£o?**\nN√£o √© apenas repetir palavras. √â um di√°logo de amor, uma conversa √≠ntima entre Deus e o homem. Santa Teresinha dizia que orar √© um impulso do cora√ß√£o.",
                    "**Por que precisamos orar?**\nAssim como o corpo precisa de ar, a alma precisa de ora√ß√£o. Sem ela, nossa f√© morre. √â na ora√ß√£o que recebemos a for√ßa para viver como crist√£os.",
                    "**A Base da F√© (Hb 11,6)**\nA B√≠blia diz: 'Sem f√© √© imposs√≠vel agradar a Deus'. Quem se aproxima Dele deve crer que Ele existe e recompensa quem O busca.",
                    "**Tipos de Ora√ß√£o**\nPodemos orar de v√°rias formas: Agradecimento (louvar a Deus), S√∫plica (pedir ajuda), Intercess√£o (pedir pelos outros) e Contempla√ß√£o (sil√™ncio amoroso)."
                ],
                quiz_questions: [
                    { q: "Qual o tema principal de Hebreus 11,6?", a: "A import√¢ncia da F√©", o: ["A cria√ß√£o do mundo", "A vida dos anjos", "A vinda de Cristo"] },
                    { q: "Como a Igreja define a Ora√ß√£o?", a: "Di√°logo de amor com Deus", o: ["Recitar textos", "Pedir coisas", "Pensar em problemas"] },
                    { q: "O que acontece com a f√© sem ora√ß√£o?", a: "Ela enfraquece e morre", o: ["Fica mais forte", "N√£o muda nada", "Vira milagre"] },
                    { q: "Ora√ß√£o pelos outros chama-se...", a: "Intercess√£o", o: ["Louvor", "Penit√™ncia", "S√∫plica"] }
                ]
            },
            2: {
                id: 2,
                title: "Quem √© Deus - A Sant√≠ssima Trindade",
                bible_ref: "1 Jo√£o 4,12-16",
                points: 200,
                content: [
                    "**O Grande Mist√©rio**\nN√≥s crist√£os cremos em UM s√≥ Deus, mas que n√£o √© solit√°rio. Ele √© uma Fam√≠lia, uma Comunidade de Amor.",
                    "**Tr√™s Pessoas, Um Deus**\nO Pai (Criador), o Filho (Salvador) e o Esp√≠rito Santo (Santificador). Eles n√£o s√£o tr√™s deuses, mas um s√≥ Deus em tr√™s pessoas distintas.",
                    "**Deus √© Amor**\nS√£o Jo√£o escreveu: 'Deus √© Amor'. E o amor precisa de algu√©m para amar. O Pai ama o Filho, o Filho ama o Pai, e esse Amor √© o Esp√≠rito Santo.",
                    "**A Nossa Vida**\nFomos batizados 'Em nome do Pai, do Filho e do Esp√≠rito Santo'. Nossa meta √© viver mergulhados nesse amor da Trindade."
                ],
                quiz_questions: [
                    { q: "Quantas Pessoas existem na Trindade?", a: "Tr√™s", o: ["Uma", "Duas", "Quatro"] },
                    { q: "Qual a verdade central da f√© crist√£?", a: "A Sant√≠ssima Trindade", o: ["A cria√ß√£o", "Maria", "Os anjos"] },
                    { q: "Qual a defini√ß√£o de Deus em 1 Jo√£o 4?", a: "Deus √© Amor", o: ["Deus √© Poder", "Deus √© Juiz", "Deus √© Vingan√ßa"] },
                    { q: "Quem √© o Santificador?", a: "Esp√≠rito Santo", o: ["O Pai", "O Filho", "S√£o Pedro"] }
                ]
            },
            3: {
                id: 3,
                title: "Jesus - Quem √© o Filho de Deus?",
                bible_ref: "Jo√£o 14,8-11",
                points: 200,
                content: [
                    "**Verdadeiro Deus e Verdadeiro Homem**\nJesus n√£o √© 'meio a meio'. Ele √© 100% Deus e 100% humano. Ele sentiu fome, sede e dor, mas tamb√©m curou, perdoou e ressuscitou.",
                    "**O Messias Esperado**\n'Cristo' √© uma palavra grega que significa 'Ungido'. Os judeus esperavam um Salvador. Jesus √© esse Salvador.",
                    "**Quem me v√™, v√™ o Pai**\nFilipe pediu para ver o Pai. Jesus respondeu que Ele √© a face vis√≠vel de Deus. Quer saber como Deus √©? Olhe para Jesus.",
                    "**O Caminho √önico**\nJesus n√£o disse 'eu sou um dos caminhos'. Ele disse: 'Eu sou O Caminho, a Verdade e a Vida'. Ningu√©m chega ao c√©u sem passar por Ele."
                ],
                quiz_questions: [
                    { q: "Quais s√£o as duas naturezas de Jesus?", a: "Divina e Humana", o: ["Anjo e Homem", "Esp√≠rito e Carne", "Rei e Servo"] },
                    { q: "O que Jesus respondeu a Filipe (Jo 14,9)?", a: "Quem me v√™, v√™ o Pai", o: ["O Pai est√° longe", "Eu sou apenas um profeta", "N√£o sei quem √© o Pai"] },
                    { q: "O que significa o t√≠tulo 'Cristo'?", a: "Ungido", o: ["Rei", "Salvador", "Mestre"] },
                    { q: "Jesus disse: 'Eu sou o Caminho, a Verdade e a...'", a: "Vida", o: ["Luz", "Porta", "Paz"] }
                ]
            },
            4: {
                id: 4,
                title: "Por que Jesus foi Crucificado?",
                bible_ref: "Lucas 23,33-47",
                points: 200,
                content: [
                    "**A Causa Real**\nN√£o foram apenas os judeus ou romanos que mataram Jesus. Fomos n√≥s. Nossos pecados foram a causa da Sua cruz.",
                    "**Amor Supremo**\nJesus poderia ter descido da cruz. Ele ficou l√° por obedi√™ncia ao Pai e por amor louco a voc√™. 'Ningu√©m tem maior amor do que aquele que d√° a vida pelos amigos'.",
                    "**O Perd√£o na Dor**\nEnquanto era pregado, Jesus n√£o gritava √≥dio. Ele rezava: 'Pai, perdoa-lhes, eles n√£o sabem o que fazem'.",
                    "**A Promessa**\nAo lado dele havia um ladr√£o arrependido. Jesus garantiu: 'Hoje mesmo estar√°s comigo no Para√≠so'. A cruz √© a chave que abre o c√©u."
                ],
                quiz_questions: [
                    { q: "Qual o motivo da morte de Jesus?", a: "Nossos pecados e Seu amor", o: ["Acidente pol√≠tico", "Fuga", "Engano"] },
                    { q: "O que Jesus pediu na cruz?", a: "Perd√£o aos algozes", o: ["Vingan√ßa", "√Ågua", "Liberdade"] },
                    { q: "Quem condenou Jesus?", a: "P√¥ncio Pilatos", o: ["Herodes", "Pedro", "Judas"] },
                    { q: "O que o bom ladr√£o ganhou?", a: "O Para√≠so", o: ["Dinheiro", "Liberdade na terra", "Nada"] }
                ]
            },
            5: {
                id: 5,
                title: "Ressurrei√ß√£o de Jesus",
                bible_ref: "Jo√£o 20,1-10",
                points: 200,
                content: [
                    "**A Morte n√£o Venceu!**\nNa sexta-feira parecia o fim. Mas no Domingo de manh√£, a hist√≥ria mudou para sempre. Jesus venceu a morte!",
                    "**O T√∫mulo Vazio**\nMaria Madalena foi a primeira a chegar. Ela viu a pedra removida. Depois Pedro e Jo√£o correram e viram apenas os panos no ch√£o.",
                    "**N√£o √© um Fantasma**\nJesus ressuscitado n√£o √© um esp√≠rito. Ele tem corpo, comeu com os disc√≠pulos e Tom√© tocou suas feridas. Mas agora √© um corpo glorioso, que n√£o morre mais.",
                    "**O Pilar da F√©**\nS√£o Paulo diz: 'Se Cristo n√£o ressuscitou, a nossa f√© √© in√∫til'. A Ressurrei√ß√£o √© a garantia de que n√≥s tamb√©m ressuscitaremos um dia."
                ],
                quiz_questions: [
                    { q: "O que acharam no domingo?", a: "O t√∫mulo vazio", o: ["Jesus dormindo", "Soldados", "Nada"] },
                    { q: "Quem viu primeiro?", a: "Maria Madalena", o: ["Pedro", "Tom√©", "Judas"] },
                    { q: "Dia da ressurrei√ß√£o?", a: "Domingo", o: ["S√°bado", "Sexta", "Segunda"] },
                    { q: "A Ressurrei√ß√£o prova que...", a: "Jesus √© Deus e venceu a morte", o: ["Ele fugiu", "Era um fantasma", "Foi um sonho"] }
                ]
            },
            6: {
                id: 6,
                title: "Segunda Vinda de Jesus",
                bible_ref: "Mateus 24,35-44",
                points: 200,
                content: [
                    "**Ele Voltar√°!**\nJesus prometeu que vir√° novamente, n√£o como crian√ßa em Bel√©m, mas em gl√≥ria para julgar os vivos e os mortos.",
                    "**Ningu√©m Sabe o Dia**\nJesus disse claramente: 'Daquele dia e hora ningu√©m sabe, nem os anjos do c√©u, nem o Filho, mas unicamente o Pai'. N√£o acredite em datas marcadas!",
                    "**Vigil√¢ncia Constante**\nComo n√£o sabemos quando ser√°, devemos viver preparados. 'Vigiai, pois, porque n√£o sabeis a que hora h√° de vir o vosso Senhor'.",
                    "**O Julgamento do Amor**\nNo final, seremos julgados pelo amor. Tive fome e me destes de comer, tive sede e me destes de beber. O amor ao pr√≥ximo √© a chave."
                ],
                quiz_questions: [
                    { q: "Quem sabe o dia e a hora da volta de Jesus?", a: "S√≥ o Pai", o: ["O Papa", "Anjos", "Profetas"] },
                    { q: "Qual deve ser nossa atitude?", a: "Vigil√¢ncia e ora√ß√£o", o: ["Medo e pavor", "Despreocupa√ß√£o", "Curiosidade"] },
                    { q: "Como Jesus vir√° na segunda vez?", a: "Em gl√≥ria para julgar", o: ["Como um beb√™", "Escondido", "Apenas em esp√≠rito"] },
                    { q: "Sobre o que seremos julgados?", a: "Sobre o amor e caridade", o: ["Sobre quanto dinheiro juntamos", "Sobre nossa beleza", "Sobre nossa fama"] }
                ]
            },
            7: {
                id: 7,
                title: "Maria - M√£e de Deus e Nossa",
                bible_ref: "Jo√£o 19, 25-27",
                points: 200,
                content: [
                    "**M√£e de Deus**\nComo Jesus √© Deus, Maria √© verdadeiramente M√£e de Deus (Theotokos). Ela deu a carne humana ao Verbo.",
                    "**Imaculada Concei√ß√£o**\nDeus a preservou de todo pecado desde o primeiro instante. Ela √© a 'Cheia de Gra√ßa'.",
                    "**Sempre Virgem**\nMaria concebeu Jesus pelo Esp√≠rito Santo e permaneceu virgem antes, durante e depois do parto.",
                    "**M√£e da Igreja**\nNa cruz, Jesus nos deu Maria por m√£e: 'Mulher, eis a√≠ o teu filho'. Ela cuida de n√≥s l√° do c√©u."
                ],
                quiz_questions: [
                    { q: "Por que chamamos Maria de M√£e de Deus?", a: "Porque Jesus √© Deus", o: ["Porque ela criou Deus", "√â um exagero", "Ela √© uma deusa"] },
                    { q: "O que significa Imaculada Concei√ß√£o?", a: "Preservada do pecado original", o: ["Que ela nunca casou", "Que ela subiu ao c√©u", "Que ela fez milagres"] },
                    { q: "Quem disse 'Eis a√≠ a tua m√£e'?", a: "Jesus na Cruz", o: ["O Anjo Gabriel", "S√£o Jos√©", "Isabel"] },
                    { q: "Maria √© nossa...", a: "M√£e e Intercessora", o: ["Salvadora", "Deusa", "Irm√£"] }
                ]
            },
            8: {
                id: 8,
                title: "A Igreja Cat√≥lica",
                bible_ref: "Mateus 16,18",
                points: 200,
                content: [
                    "**Fundada por Cristo**\nJesus quis a Igreja. Ele disse a Pedro: 'Tu √©s Pedro, e sobre esta pedra edificarei a minha Igreja'.",
                    "**Corpo de Cristo**\nN√≥s somos os membros e Cristo √© a cabe√ßa. A Igreja n√£o √© apenas um pr√©dio, somos n√≥s unidos a Ele.",
                    "**As 4 Marcas**\nA Igreja √© UNA (s√≥ uma f√©), SANTA (vem de Deus), CAT√ìLICA (para todos/universal) e APOST√ìLICA (vem dos ap√≥stolos).",
                    "**Miss√£o**\nA miss√£o da Igreja √© evangelizar, levar Jesus a todos e administrar os sacramentos."
                ],
                quiz_questions: [
                    { q: "Quem fundou a Igreja?", a: "Jesus Cristo", o: ["Pedro", "Paulo", "Constantino"] },
                    { q: "O que significa Igreja 'Cat√≥lica'?", a: "Universal (para todos)", o: ["Fechada", "Romana apenas", "Antiga"] },
                    { q: "Quem √© a cabe√ßa do Corpo da Igreja?", a: "Cristo", o: ["O Papa", "O Bispo", "O Padre"] },
                    { q: "Sobre quem Jesus edificou a Igreja?", a: "Pedro", o: ["Jo√£o", "Judas", "Tiago"] }
                ]
            },
            9: {
                id: 9,
                title: "O Papa e a Hierarquia",
                bible_ref: "Mateus 16,19",
                points: 200,
                content: [
                    "**O Papa**\n√â o sucessor de S√£o Pedro. Ele √© o princ√≠pio vis√≠vel de unidade da Igreja e Vig√°rio de Cristo na terra.",
                    "**As Chaves**\nJesus deu a Pedro as 'chaves do Reino'. O que ele ligar na terra ser√° ligado no c√©u (autoridade).",
                    "**Bispos e Padres**\nOs Bispos s√£o sucessores dos Ap√≥stolos. Os Padres colaboram com os Bispos para cuidar das par√≥quias.",
                    "**Leigos**\nN√£o s√£o apenas 'ouvintes'. Todos os batizados s√£o chamados a ser santos e ap√≥stolos no mundo."
                ],
                quiz_questions: [
                    { q: "Quem √© o sucessor de S√£o Pedro?", a: "O Papa", o: ["O Rei", "O Presidente", "O Bispo local"] },
                    { q: "O que significam as chaves dadas a Pedro?", a: "Autoridade espiritual", o: ["Chaves do cofre", "Chaves da cidade", "Poder militar"] },
                    { q: "Quem s√£o os sucessores dos Ap√≥stolos?", a: "Os Bispos", o: ["Os Padres", "Os Di√°conos", "Os Coroinhas"] },
                    { q: "Qual a miss√£o dos leigos?", a: "Ser sal e luz no mundo", o: ["Apenas assistir missa", "Pagar d√≠zimo", "N√£o fazer nada"] }
                ]
            },
            10: {
                id: 10,
                title: "Quem √© o Esp√≠rito Santo?",
                bible_ref: "Atos 2,1-4",
                points: 200,
                content: [
                    "**O Consolador**\n√â a Terceira Pessoa da Trindade. Jesus prometeu envi√°-Lo para nos ensinar e recordar tudo.",
                    "**Pentecostes**\n50 dias ap√≥s a P√°scoa, o Esp√≠rito desceu sobre os ap√≥stolos como fogo. A Igreja nasceu a√≠, cheia de coragem.",
                    "**Templo do Esp√≠rito**\nPelo Batismo, o Esp√≠rito Santo mora em voc√™. Seu corpo √© templo Dele!",
                    "**A√ß√£o na Crisma**\nNa Crisma, voc√™ recebe a plenitude do Esp√≠rito para ser uma testemunha adulta de Jesus."
                ],
                quiz_questions: [
                    { q: "O Esp√≠rito Santo √©...", a: "Deus, 3¬™ Pessoa da Trindade", o: ["Um anjo", "Uma energia", "Um pensamento"] },
                    { q: "O que aconteceu em Pentecostes?", a: "Descida do Esp√≠rito Santo", o: ["Nascimento de Jesus", "Morte de Jesus", "Cria√ß√£o do mundo"] },
                    { q: "Onde o Esp√≠rito Santo habita?", a: "Em nossos cora√ß√µes", o: ["Nas nuvens", "Apenas na Igreja", "Nos livros"] },
                    { q: "O que a Crisma nos d√°?", a: "A plenitude do Esp√≠rito", o: ["O perd√£o dos pecados", "A primeira comunh√£o", "O casamento"] }
                ]
            },
            11: {
                id: 11,
                title: "A Eucaristia - Presen√ßa Real",
                bible_ref: "Lucas 22,19-20",
                points: 200,
                content: [
                    "**Corpo e Sangue**\nA Eucaristia n√£o √© s√≠mbolo! √â verdadeiramente o Corpo, Sangue, Alma e Divindade de Jesus.",
                    "**A √öltima Ceia**\nJesus instituiu a Eucaristia na Quinta-feira Santa: 'Isto √© o meu corpo entregue por v√≥s'.",
                    "**Transubstancia√ß√£o**\n√â o milagre que acontece na Missa. A apar√™ncia de p√£o continua, mas a subst√¢ncia vira Jesus.",
                    "**Alimento da Alma**\nQuem come deste p√£o viver√° eternamente. A Eucaristia nos une a Cristo e apaga pecados leves."
                ],
                quiz_questions: [
                    { q: "O que √© a Eucaristia?", a: "O Corpo e Sangue de Cristo", o: ["Apenas um p√£o bento", "Um s√≠mbolo", "Uma lembran√ßa"] },
                    { q: "Quando foi institu√≠da a Eucaristia?", a: "Na √öltima Ceia", o: ["No Natal", "Na P√°scoa", "No Batismo"] },
                    { q: "O que √© Transubstancia√ß√£o?", a: "Mudan√ßa do p√£o em Corpo de Cristo", o: ["Ben√ß√£o do p√£o", "Divis√£o do p√£o", "Compra do p√£o"] },
                    { q: "Para comungar √© preciso...", a: "Estar em estado de gra√ßa", o: ["Ter dinheiro", "Ser velho", "Estar em jejum de 24h"] }
                ]
            },
            12: {
                id: 12,
                title: "A Santa Missa (Parte 1)",
                bible_ref: "Atos 2,42",
                points: 200,
                content: [
                    "**O Que √© a Missa?**\n√â a renova√ß√£o do sacrif√≠cio de Jesus na Cruz, mas de forma incruenta (sem dor). √â o c√©u na terra.",
                    "**Ritos Iniciais**\nChegamos, pedimos perd√£o (Ato Penitencial) e louvamos a Deus (Gl√≥ria). Nos preparamos para ouvir Deus.",
                    "**Liturgia da Palavra**\nOuvimos a B√≠blia. Primeira leitura, Salmo, Segunda leitura e o Evangelho (o ponto alto da palavra).",
                    "**Homilia**\nO padre explica a palavra e como aplic√°-la na nossa vida hoje."
                ],
                quiz_questions: [
                    { q: "A Missa renova o qu√™?", a: "O sacrif√≠cio da Cruz", o: ["O nascimento de Jesus", "O batismo", "Milagres antigos"] },
                    { q: "Qual a parte onde ouvimos a B√≠blia?", a: "Liturgia da Palavra", o: ["Ritos Iniciais", "Liturgia Eucar√≠stica", "Ritos Finais"] },
                    { q: "O que fazemos no Ato Penitencial?", a: "Pedimos perd√£o a Deus", o: ["Damos dinheiro", "Cumprimentamos todos", "Vamos embora"] },
                    { q: "Quem l√™ o Evangelho?", a: "O Padre ou Di√°cono", o: ["Qualquer pessoa", "O coroinha", "O cantor"] }
                ]
            },
            13: {
                id: 13,
                title: "üèÜ PROVA INTERMEDI√ÅRIA",
                bible_ref: "Revis√£o Geral",
                points: 500,
                content: [
                    "**Hora de Testar!**\nChegamos na metade do curso. Esta prova re√∫ne perguntas de tudo o que vimos at√© agora.",
                    "**Temas:**\nOra√ß√£o, Trindade, Jesus, Morte e Ressurrei√ß√£o, Maria, Igreja e Esp√≠rito Santo.",
                    "**Concentra√ß√£o!**\nRespire fundo, pe√ßa luz ao Esp√≠rito Santo e mostre que voc√™ √© um fera na f√©!",
                    "**Boa Sorte!**\nVoc√™ precisa de um bom desempenho para desbloquear a pr√≥xima etapa."
                ],
                quiz_questions: [
                    { q: "Quem √© a Terceira Pessoa da Trindade?", a: "Esp√≠rito Santo", o: ["Maria", "O Papa", "Jesus"] },
                    { q: "Jesus √©...", a: "Deus e Homem", o: ["S√≥ Deus", "S√≥ Homem", "Anjo"] },
                    { q: "O que celebramos no Domingo?", a: "A Ressurrei√ß√£o", o: ["A Morte", "O Batismo", "A Ceia"] },
                    { q: "Qual ora√ß√£o Jesus nos ensinou?", a: "Pai Nosso", o: ["Ave Maria", "Credo", "Salve Rainha"] },
                    { q: "Quem √© a M√£e da Igreja?", a: "Maria", o: ["Santa Rita", "Santa Luzia", "Madalena"] },
                    { q: "Quem fundou a Igreja Cat√≥lica?", a: "Jesus", o: ["Pedro", "Lutero", "Constantino"] },
                    { q: "Onde Jesus nasceu?", a: "Bel√©m", o: ["Nazar√©", "Egito", "Roma"] },
                    { q: "O que √© a Eucaristia?", a: "Corpo de Cristo", o: ["P√£o simb√≥lico", "Lanche", "H√≥stia vazia"] },
                    { q: "Qual sacramento nos d√° o Esp√≠rito Santo?", a: "Crisma", o: ["Casamento", "Un√ß√£o", "Confiss√£o"] },
                    { q: "Deus √©...", a: "Amor", o: ["√ìdio", "Distante", "Castigador"] },
                    { q: "Quantos deuses existem?", a: "Um", o: ["Tr√™s", "V√°rios", "Nenhum"] },
                    { q: "O Papa √© sucessor de...", a: "S√£o Pedro", o: ["S√£o Paulo", "S√£o Jo√£o", "Judas"] },
                    { q: "A B√≠blia na Missa √© lida na...", a: "Liturgia da Palavra", o: ["Ofertorio", "Comunh√£o", "Final"] },
                    { q: "Imaculada Concei√ß√£o refere-se a...", a: "Maria sem pecado", o: ["Jesus nascer", "Batismo", "Anjos"] },
                    { q: "Jesus prometeu voltar para...", a: "Julgar", o: ["Passear", "Morrer de novo", "Dormir"] }
                ]
            },
            14: {
                id: 14,
                title: "Sacramentos de Inicia√ß√£o",
                bible_ref: "Mateus 28,19",
                points: 200,
                content: [
                    "**A Porta de Entrada**\nOs Sacramentos de Inicia√ß√£o Crist√£ colocam os fundamentos da vida crist√£: Batismo, Crisma e Eucaristia.",
                    "**Batismo**\n√â o nascimento. Apaga o pecado original, nos faz filhos de Deus e membros da Igreja.",
                    "**Crisma (Confirma√ß√£o)**\n√â o crescimento. Nos d√° a for√ßa do Esp√≠rito Santo para espalhar e defender a f√©.",
                    "**Eucaristia**\n√â o alimento. Nutre nossa caminhada at√© o c√©u. Sem ela, desfalecemos no caminho."
                ],
                quiz_questions: [
                    { q: "Quais s√£o os sacramentos de inicia√ß√£o?", a: "Batismo, Crisma e Eucaristia", o: ["Ordem e Matrim√¥nio", "Un√ß√£o e Confiss√£o", "Apenas Batismo"] },
                    { q: "O que o Batismo faz?", a: "Nos torna filhos de Deus", o: ["Nos d√° dinheiro", "Nos torna padres", "Nada"] },
                    { q: "A Crisma √© o sacramento do...", a: "Crescimento e maturidade", o: ["Perd√£o", "Nascimento", "Casamento"] },
                    { q: "Qual sacramento nos alimenta?", a: "Eucaristia", o: ["Batismo", "Crisma", "Ordem"] }
                ]
            },
            15: {
                id: 15,
                title: "Sacramentos de Cura",
                bible_ref: "Tiago 5,14-15",
                points: 200,
                content: [
                    "**Reconcilia√ß√£o (Confiss√£o)**\n√â o rem√©dio para a alma. Jesus deu aos padres o poder de perdoar: 'A quem perdoardes os pecados, ser√£o perdoados'.",
                    "**Como Confessar?**\n1. Exame de consci√™ncia; 2. Arrependimento sincero; 3. Confessar ao padre; 4. Cumprir a penit√™ncia.",
                    "**Un√ß√£o dos Enfermos**\nN√£o √© s√≥ para quem est√° morrendo! √â para dar for√ßa, paz e coragem aos doentes e idosos.",
                    "**Efeitos**\nEsses sacramentos curam nossa rela√ß√£o com Deus (perd√£o) e nos d√£o for√ßa f√≠sica e espiritual na dor."
                ],
                quiz_questions: [
                    { q: "Quem tem poder para perdoar pecados?", a: "Padres e Bispos (em nome de Jesus)", o: ["Qualquer pessoa", "Apenas Deus direto", "Os anjos"] },
                    { q: "O que √© necess√°rio para uma boa confiss√£o?", a: "Arrependimento sincero", o: ["Pagar uma taxa", "Chorar alto", "Escrever um livro"] },
                    { q: "A Un√ß√£o dos Enfermos serve para...", a: "Dar for√ßa espiritual e f√≠sica", o: ["Apenas enterrar", "Curar gripe", "Ficar rico"] },
                    { q: "O pecado mortal nos tira...", a: "A gra√ßa santificante", o: ["A cidadania", "O nome", "A intelig√™ncia"] }
                ]
            },
            16: {
                id: 16,
                title: "Sacramentos de Servi√ßo",
                bible_ref: "Mateus 19,6",
                points: 200,
                content: [
                    "**A Servi√ßo da Comunidade**\nEstes dois sacramentos n√£o s√£o para salva√ß√£o pessoal, mas para servir aos outros: Ordem e Matrim√¥nio.",
                    "**Ordem**\n√â o sacramento dos Di√°conos, Padres e Bispos. Eles entregam sua vida para servir a Igreja e o povo de Deus.",
                    "**Matrim√¥nio**\n√â a uni√£o entre homem e mulher. Eles recebem a gra√ßa para se amarem como Cristo ama a Igreja e para educar os filhos.",
                    "**Igreja Dom√©stica**\nA fam√≠lia √© chamada de 'Igreja Dom√©stica', o primeiro lugar onde se aprende a f√©."
                ],
                quiz_questions: [
                    { q: "Quais s√£o os sacramentos de servi√ßo?", a: "Ordem e Matrim√¥nio", o: ["Batismo e Crisma", "Eucaristia e Un√ß√£o", "Confiss√£o e Ordem"] },
                    { q: "Quem recebe o sacramento da Ordem?", a: "Di√°conos, Padres e Bispos", o: ["Freiras", "Coroinhas", "Todos os homens"] },
                    { q: "Qual a miss√£o dos casados?", a: "Amar-se e educar os filhos na f√©", o: ["Ficar ricos", "Viajar o mundo", "N√£o ter responsabilidade"] },
                    { q: "Como chamamos a fam√≠lia crist√£?", a: "Igreja Dom√©stica", o: ["Clube social", "Hotel", "Escola"] }
                ]
            },
            17: {
                id: 17,
                title: "B√≠blia - Antigo Testamento",
                bible_ref: "G√™nesis 1,1",
                points: 200,
                content: [
                    "**Uma Biblioteca**\nA B√≠blia cat√≥lica tem 73 livros. O Antigo Testamento (46 livros) conta a hist√≥ria antes de Jesus.",
                    "**A Cria√ß√£o e a Queda**\nDeus criou tudo bom. O homem desobedeceu (pecado original), mas Deus prometeu um Salvador.",
                    "**A Alian√ßa**\nDeus fez alian√ßas com No√©, Abra√£o e Mois√©s. Ele formou o povo de Israel para preparar a vinda de Cristo.",
                    "**Os Profetas**\nHomens como Isa√≠as e Jeremias falavam em nome de Deus, denunciando pecados e anunciando o Messias."
                ],
                quiz_questions: [
                    { q: "Quantos livros tem o Antigo Testamento cat√≥lico?", a: "46", o: ["39", "27", "100"] },
                    { q: "Quem s√£o os Profetas?", a: "Porta-vozes de Deus", o: ["Adivinhos", "M√°gicos", "Reis"] },
                    { q: "Com quem Deus fez alian√ßas?", a: "No√©, Abra√£o e Mois√©s", o: ["Pedro e Paulo", "Judas", "Pilatos"] },
                    { q: "O Antigo Testamento prepara...", a: "A vinda de Jesus", o: ["O fim do mundo", "A guerra", "O dil√∫vio apenas"] }
                ]
            },
            18: {
                id: 18,
                title: "B√≠blia - Novo Testamento",
                bible_ref: "Marcos 1,1",
                points: 200,
                content: [
                    "**A Nova Alian√ßa**\nO Novo Testamento (27 livros) narra a vida de Jesus e o in√≠cio da Igreja. √â o cumprimento das promessas.",
                    "**Os Evangelhos**\nMateus, Marcos, Lucas e Jo√£o. S√£o o cora√ß√£o da B√≠blia, pois contam o que Jesus fez e ensinou.",
                    "**Atos e Cartas**\n'Atos dos Ap√≥stolos' conta a hist√≥ria da Igreja primitiva. As Cartas (Paulo, Pedro...) ensinam como viver a f√©.",
                    "**Apocalipse**\nO √∫ltimo livro. N√£o √© sobre terror, mas sobre a vit√≥ria final de Cristo e a esperan√ßa do c√©u."
                ],
                quiz_questions: [
                    { q: "Quantos s√£o os Evangelhos?", a: "Quatro", o: ["Tr√™s", "Dois", "Dez"] },
                    { q: "Quais s√£o os evangelistas?", a: "Mateus, Marcos, Lucas e Jo√£o", o: ["Pedro, Tiago, Jo√£o e Judas", "Paulo e Barnab√©", "Isa√≠as e Daniel"] },
                    { q: "O que conta o livro de Atos?", a: "O in√≠cio da Igreja e os Ap√≥stolos", o: ["O fim do mundo", "A cria√ß√£o", "O dil√∫vio"] },
                    { q: "Qual o √∫ltimo livro da B√≠blia?", a: "Apocalipse", o: ["G√™nesis", "Salmos", "√äxodo"] }
                ]
            },
            19: {
                id: 19,
                title: "Mandamentos (1¬∫, 2¬∫ e 3¬∫)",
                bible_ref: "√äxodo 20",
                points: 200,
                content: [
                    "**Amar a Deus sobre tudo**\n1¬∫ Mandamento: N√£o ter outros deuses (dinheiro, fama, supersti√ß√£o). Deus deve ser o centro.",
                    "**O Santo Nome**\n2¬∫ Mandamento: N√£o falar o nome de Deus em v√£o. Devemos usar o nome Dele para rezar, n√£o para xingar ou jurar falso.",
                    "**O Dia do Senhor**\n3¬∫ Mandamento: Guardar domingos e festas. Para n√≥s, crist√£os, o Domingo √© o dia da Ressurrei√ß√£o. Missa √© sagrada!"
                ],
                quiz_questions: [
                    { q: "Qual o primeiro mandamento?", a: "Amar a Deus sobre todas as coisas", o: ["Honrar pai e m√£e", "N√£o matar", "N√£o roubar"] },
                    { q: "O que pro√≠be o 2¬∫ mandamento?", a: "Usar o nome de Deus em v√£o", o: ["Falar muito", "Cantar", "Rezar"] },
                    { q: "Qual o dia sagrado para os crist√£os?", a: "Domingo", o: ["S√°bado", "Sexta-feira", "Segunda-feira"] },
                    { q: "Faltar √† missa dominical sem motivo √©...", a: "Pecado", o: ["Opcional", "Virtude", "Caridade"] }
                ]
            },
            20: {
                id: 20,
                title: "Mandamentos (4¬∫ e 5¬∫)",
                bible_ref: "√äxodo 20,12-13",
                points: 200,
                content: [
                    "**Fam√≠lia e Vida**\nEstes mandamentos protegem a base da sociedade e o dom da vida.",
                    "**Honrar Pai e M√£e (4¬∫)**\nDevemos respeito, gratid√£o e obedi√™ncia (enquanto moramos juntos) aos pais. E cuidar deles na velhice.",
                    "**N√£o Matar (5¬∫)**\nA vida √© sagrada desde a concep√ß√£o at√© a morte natural. O aborto, o suic√≠dio e o homic√≠dio s√£o pecados graves.",
                    "**Cuidar da Vida**\nTamb√©m inclui evitar drogas, excesso de √°lcool, √≥dio e viol√™ncia verbal."
                ],
                quiz_questions: [
                    { q: "O 4¬∫ mandamento pede para...", a: "Honrar pai e m√£e", o: ["Ganhar dinheiro", "Ser famoso", "Viajar"] },
                    { q: "O 5¬∫ mandamento protege...", a: "A vida humana", o: ["Os animais", "As plantas", "Os bens materiais"] },
                    { q: "Quando a vida √© sagrada?", a: "Da concep√ß√£o √† morte natural", o: ["S√≥ depois de nascer", "S√≥ quando adulto", "S√≥ se for rico"] },
                    { q: "O uso de drogas ofende qual mandamento?", a: "5¬∫ (N√£o Matar/Cuidar da vida)", o: "7¬∫ (N√£o roubar)", o: ["2¬∫ (Nome de Deus)", "1¬∫ (Amar a Deus)"] }
                ]
            },
            21: {
                id: 21,
                title: "Mandamentos (6¬∫ e 9¬∫)",
                bible_ref: "Mateus 5,27",
                points: 200,
                content: [
                    "**Pureza e Castidade**\nReferem-se ao amor humano e √† sexualidade.",
                    "**N√£o pecar contra a castidade (6¬∫)**\nEvitar atos impuros. O sexo √© um dom de Deus para ser vivido dentro do casamento, aberto √† vida e ao amor.",
                    "**N√£o desejar a mulher do pr√≥ximo (9¬∫)**\nTrata da pureza do olhar e do cora√ß√£o. Jesus disse que quem olha com desejo impuro j√° pecou no cora√ß√£o.",
                    "**O Corpo √© Templo**\nDevemos respeitar nosso corpo e o dos outros, pois o Esp√≠rito Santo habita nele."
                ],
                quiz_questions: [
                    { q: "O 6¬∫ mandamento protege...", a: "A castidade e a fam√≠lia", o: ["A propriedade", "A verdade", "O nome de Deus"] },
                    { q: "O 9¬∫ mandamento fala sobre...", a: "A pureza dos pensamentos e desejos", o: ["Roubo", "Mentira", "Pregui√ßa"] },
                    { q: "Nosso corpo √©...", a: "Templo do Esp√≠rito Santo", o: ["Uma m√°quina", "Um objeto", "Lixo"] },
                    { q: "Onde a sexualidade deve ser vivida plenamente?", a: "No Matrim√¥nio", o: ["No namoro", "Com amigos", "Sozinho"] }
                ]
            },
            22: {
                id: 22,
                title: "Mandamentos (7¬∫, 8¬∫ e 10¬∫)",
                bible_ref: "√äxodo 20,15-17",
                points: 200,
                content: [
                    "**Justi√ßa e Verdade**\nTratam da honestidade e das rela√ß√µes sociais.",
                    "**N√£o Roubar (7¬∫)**\nPegar o que n√£o √© seu, n√£o pagar d√≠vidas, estragar bens p√∫blicos ou de outros.",
                    "**N√£o Levantar Falso Testemunho (8¬∫)**\nMentir, fofocar, caluniar ou difamar algu√©m. A verdade √© fundamental.",
                    "**N√£o Cobi√ßar as Coisas Alheias (10¬∫)**\nEvitar a inveja e a gan√¢ncia. Devemos ser felizes com o que temos."
                ],
                quiz_questions: [
                    { q: "O que pro√≠be o 7¬∫ mandamento?", a: "Roubar", o: ["Matar", "Mentir", "Adulterar"] },
                    { q: "Fofoca e mentira ferem qual mandamento?", a: "8¬∫ (Falso Testemunho)", o: ["5¬∫ (N√£o matar)", "6¬∫ (Castidade)", "3¬∫ (Domingo)"] },
                    { q: "O que √© cobi√ßar as coisas alheias?", a: "Ter inveja e gan√¢ncia", o: ["Admirar", "Elogiar", "Trabalhar"] },
                    { q: "Devemos amar a...", a: "Verdade e Justi√ßa", o: ["Mentira", "Pregui√ßa", "Inveja"] }
                ]
            },
            23: {
                id: 23,
                title: "Os Santos e a Intercess√£o",
                bible_ref: "Apocalipse 5,8",
                points: 200,
                content: [
                    "**Modelos de Vida**\nOs santos s√£o nossos irm√£os mais velhos que j√° chegaram ao c√©u. Eles nos ensinam como amar a Deus.",
                    "**N√£o Adoramos Santos!**\nN√≥s ADORAMOS s√≥ a Deus. Aos santos, n√≥s VENERAMOS (respeitamos) e pedimos que rezem por n√≥s.",
                    "**Intercess√£o**\nAssim como voc√™ pede ora√ß√£o a um amigo, pedimos aos santos. Eles est√£o vivos em Deus e apresentam nossas ora√ß√µes.",
                    "**Comunh√£o dos Santos**\nSomos uma fam√≠lia unida: a Igreja na terra, as almas no purgat√≥rio e os santos no c√©u."
                ],
                quiz_questions: [
                    { q: "N√≥s adoramos os santos?", a: "N√£o, s√≥ a Deus", o: ["Sim, claro", "√Äs vezes", "S√≥ a Maria"] },
                    { q: "O que significa 'venerar'?", a: "Respeitar e honrar", o: ["Adorar como deuses", "Ignorar", "Desprezar"] },
                    { q: "O que √© intercess√£o?", a: "Pedir que rezem por n√≥s", o: ["Fazer m√°gica", "Pagar promessa", "Adivinhar futuro"] },
                    { q: "Quem s√£o os santos?", a: "Amigos de Deus no c√©u", o: ["Anjos", "Deuses menores", "Fantasmas"] }
                ]
            },
            24: {
                id: 24,
                title: "O Pai Nosso - A Ora√ß√£o Perfeita",
                bible_ref: "Mateus 6,9-13",
                points: 200,
                content: [
                    "**Ensinada por Jesus**\n√â o resumo de todo o Evangelho. Jesus nos ensina a chamar Deus de 'Pai'.",
                    "**7 Pedidos**\nOs 3 primeiros s√£o para gl√≥ria de Deus (Nome, Reino, Vontade). Os 4 √∫ltimos s√£o para nossas necessidades (P√£o, Perd√£o, Tenta√ß√£o, Mal).",
                    "**Seja feita a vossa vontade**\n√â o ponto mais dif√≠cil e importante: confiar que o plano de Deus √© melhor que o nosso.",
                    "**Perdoai as nossas ofensas**\nDeus nos perdoa, mas coloca uma condi√ß√£o: 'assim como n√≥s perdoamos a quem nos tem ofendido'."
                ],
                quiz_questions: [
                    { q: "Quem ensinou o Pai Nosso?", a: "Jesus", o: ["Mois√©s", "O Papa", "Davi"] },
                    { q: "Quantos pedidos tem o Pai Nosso?", a: "Sete", o: ["Dez", "Tr√™s", "Cinco"] },
                    { q: "Qual a condi√ß√£o para ser perdoado?", a: "Perdoar os outros", o: ["Pagar d√≠zimo", "Rezar muito", "Jejuar"] },
                    { q: "O que pedimos sobre o p√£o?", a: "O p√£o nosso de cada dia", o: ["O p√£o para o m√™s todo", "Bolo e festa", "Riquezas"] }
                ]
            },
            25: {
                id: 25,
                title: "Os Anjos de Deus",
                bible_ref: "Hebreus 1,14",
                points: 200,
                content: [
                    "**Esp√≠ritos Puros**\nOs anjos s√£o criaturas espirituais, inteligentes e livres. N√£o t√™m corpo humano (s√≥ aparecem assim √†s vezes).",
                    "**Mensageiros**\nA palavra 'Anjo' significa mensageiro. Eles servem a Deus e protegem os homens.",
                    "**Anjo da Guarda**\nDeus deu a cada um de n√≥s um companheiro celeste para nos iluminar, guardar, reger e governar.",
                    "**Arcanjos**\nConhecemos tr√™s pelos nomes na B√≠blia: Miguel (Quem como Deus?), Gabriel (For√ßa de Deus) e Rafael (Cura de Deus)."
                ],
                quiz_questions: [
                    { q: "O que significa a palavra 'Anjo'?", a: "Mensageiro", o: ["Guerreiro", "Luz", "Vento"] },
                    { q: "O que faz o Anjo da Guarda?", a: "Nos protege e guia", o: ["Nos atrapalha", "Nos julga", "Dorme"] },
                    { q: "Quem s√£o os 3 Arcanjos b√≠blicos?", a: "Miguel, Gabriel e Rafael", o: ["Pedro, Tiago e Jo√£o", "Gaspar, Belchior e Baltazar", "L√∫cifer e Satan√°s"] },
                    { q: "Os anjos t√™m corpo f√≠sico?", a: "N√£o, s√£o esp√≠ritos puros", o: ["Sim, igual ao nosso", "Sim, de fuma√ßa", "Sim, de ouro"] }
                ]
            },
            26: {
                id: 26,
                title: "Dons do Esp√≠rito Santo",
                bible_ref: "Isa√≠as 11,2",
                points: 200,
                content: [
                    "**Ferramentas para a Santidade**\nS√£o presentes que o Esp√≠rito Santo nos d√° para nos ajudar a viver como crist√£os corajosos.",
                    "**Sabedoria e Entendimento**\nSabedoria para gostar das coisas de Deus. Entendimento para compreender as verdades da f√©.",
                    "**Conselho e Fortaleza**\nConselho para saber o que fazer. Fortaleza para ter coragem de fazer o certo, mesmo sendo dif√≠cil.",
                    "**Ci√™ncia, Piedade e Temor**\nCi√™ncia para ver Deus no mundo. Piedade para amar a Deus como Pai. Temor para ter medo de ofender a Deus."
                ],
                quiz_questions: [
                    { q: "Quantos s√£o os dons do Esp√≠rito Santo?", a: "Sete", o: ["Tr√™s", "Doze", "Dez"] },
                    { q: "O dom da Fortaleza nos d√°...", a: "Coragem para testemunhar", o: ["For√ßa para levantar peso", "Poder de voar", "Riqueza"] },
                    { q: "O que √© o Temor de Deus?", a: "Receio de ofender a Deus por amor", o: ["Ter pavor de Deus", "Fugir de Deus", "Medo de castigo"] },
                    { q: "Qual dom nos ajuda a entender a f√©?", a: "Entendimento (Intelig√™ncia)", o: ["Fortaleza", "Piedade", "Temor"] }
                ]
            },
            27: {
                id: 27,
                title: "O Ano Lit√∫rgico",
                bible_ref: "Eclesiastes 3,1",
                points: 200,
                content: [
                    "**O Tempo da Igreja**\nN√£o seguimos apenas o calend√°rio civil. Temos o Ano Lit√∫rgico que celebra a vida de Jesus.",
                    "**Cores Lit√∫rgicas**\nBranco/Dourado (Alegria: P√°scoa/Natal), Roxo (Penit√™ncia: Quaresma/Advento), Vermelho (Sangue/Fogo: M√°rtires/Pentecostes), Verde (Tempo Comum).",
                    "**Advento e Quaresma**\nAdvento: 4 semanas preparando o Natal. Quaresma: 40 dias preparando a P√°scoa.",
                    "**P√°scoa**\n√â a maior festa da nossa f√©! Celebramos a Ressurrei√ß√£o do Senhor."
                ],
                quiz_questions: [
                    { q: "Qual a cor usada na Quaresma?", a: "Roxo", o: ["Branco", "Verde", "Vermelho"] },
                    { q: "O que celebramos no Natal?", a: "O nascimento de Jesus", o: ["A morte de Jesus", "A vinda do Esp√≠rito", "Os reis magos"] },
                    { q: "Qual a maior festa crist√£?", a: "A P√°scoa", o: ["O Natal", "O Ano Novo", "Corpus Christi"] },
                    { q: "O que significa o Tempo Comum (Verde)?", a: "Caminhada e Esperan√ßa", o: ["Tristeza", "Luto", "Festa"] }
                ]
            },
            28: {
                id: 28,
                title: "üèÜ PROVA FINAL",
                bible_ref: "Envio Mission√°rio",
                points: 1000,
                content: [
                    "**Parab√©ns!**\nVoc√™ chegou ao fim da trilha. Voc√™ aprendeu sobre Deus, Jesus, a Igreja, os Sacramentos e a vida crist√£.",
                    "**A Crisma**\nAgora voc√™ est√° pronto para receber o selo do Esp√≠rito Santo. N√£o √© o fim, √© o come√ßo da sua miss√£o!",
                    "**O Desafio Final**\nEsta prova re√∫ne perguntas de todo o curso. Mostre que voc√™ est√° preparado.",
                    "**Ide e Evangelizai**\nQue o Esp√≠rito Santo ilumine suas respostas e sua vida. Boa sorte!"
                ],
                quiz_questions: [
                    { q: "Quem √© a Terceira Pessoa da Trindade?", a: "Esp√≠rito Santo", o: ["Jesus", "Maria", "Pedro"] },
                    { q: "Quantos sacramentos existem?", a: "Sete", o: ["Tr√™s", "Dez", "Cinco"] },
                    { q: "O que √© a Eucaristia?", a: "Corpo e Sangue de Cristo", o: ["S√≠mbolo", "P√£o bento", "Lembran√ßa"] },
                    { q: "Quem fundou a Igreja?", a: "Jesus Cristo", o: ["Pedro", "Paulo", "Constantino"] },
                    { q: "Qual o dia da Ressurrei√ß√£o?", a: "Domingo", o: ["Sexta", "S√°bado", "Quarta"] },
                    { q: "O que o Batismo apaga?", a: "O Pecado Original", o: ["A fome", "A pregui√ßa", "Nada"] },
                    { q: "Quem s√£o os sucessores dos ap√≥stolos?", a: "Os Bispos", o: ["Os Padres", "Os Di√°conos", "Os Coroinhas"] },
                    { q: "O que √© confiss√£o?", a: "Pedir perd√£o dos pecados", o: ["Conversar", "Fazer terapia", "Reclamar"] },
                    { q: "Maria √©...", a: "M√£e de Deus e nossa", o: ["Uma deusa", "Apenas uma mulher", "Irm√£ de Jesus"] },
                    { q: "Onde est√° escrito a Palavra de Deus?", a: "Na B√≠blia", o: ["No jornal", "Na revista", "No Facebook"] },
                    { q: "Qual o mandamento sobre a vida?", a: "N√£o matar (5¬∫)", o: ["N√£o roubar", "Honrar pais", "N√£o mentir"] },
                    { q: "O que √© a Crisma?", a: "Sacramento da confirma√ß√£o", o: ["Festa de formatura", "Aula de religi√£o", "Batismo 2"] },
                    { q: "Jesus √©...", a: "Verdadeiro Deus e Homem", o: ["S√≥ homem", "Anjo", "Profeta"] },
                    { q: "O que pedimos no Pai Nosso?", a: "O p√£o de cada dia", o: ["Dinheiro", "Sucesso", "Fama"] },
                    { q: "Quem √© nosso anjo protetor?", a: "Anjo da Guarda", o: ["Cupido", "Querubim", "Arcanjo"] },
                    { q: "Qual a cor da P√°scoa?", a: "Branco", o: ["Roxo", "Verde", "Preto"] },
                    { q: "Deus √©...", a: "Amor", o: ["Vingan√ßa", "√ìdio", "Indiferen√ßa"] },
                    { q: "O que √© pecado mortal?", a: "Ofensa grave a Deus", o: ["Erro pequeno", "Esquecimento", "Mentirinha"] },
                    { q: "Onde Jesus est√° presente?", a: "Na Eucaristia e no irm√£o", o: ["S√≥ no c√©u", "S√≥ na imagem", "Em lugar nenhum"] },
                    { q: "Qual a miss√£o do crismado?", a: "Ser testemunha de Cristo", o: ["Ficar em casa", "Sair da igreja", "Criticar tudo"] }
                ]
            }
        };

        // --- APP LOGIC ---
        window.App = {
            db: null, userId: null,
            userProgress: { score: 0, completedLessons: {}, name: null },
            state: { currentScreen: 'map', hearts: 5, quizData: [], quizIndex: 0, quizScore: 0 },

            init(db, userId) {
                this.db = db; this.userId = userId;
                window.startProgressListener(userId);
                this.render();
            },

            setUserProgress(p) {
                this.userProgress = { ...this.userProgress, ...p };
                const modal = document.getElementById('name-modal');
                if (!this.userProgress.name) {
                    modal.classList.remove('hidden'); modal.classList.add('flex');
                } else {
                    modal.classList.add('hidden');
                }
                this.render();
            },

            saveUserName() {
                const name = document.getElementById('user-name-input').value.trim();
                if (name.length > 2) {
                    this.userProgress.name = name;
                    window.saveProgress(this.userProgress);
                    document.getElementById('name-modal').classList.add('hidden');
                } else alert("Nome muito curto!");
            },

            navigateTo(screen, param) {
                this.state.currentScreen = screen;
                this.state.currentParam = param;
                this.render();
            },

            render() {
                const app = document.getElementById('app');
                document.getElementById('current-score').innerText = this.userProgress.score;
                document.getElementById('hearts-count').innerText = this.state.hearts;
                
                // Tabs
                document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                if(this.state.currentScreen === 'map') document.getElementById('nav-map').classList.add('active');
                if(this.state.currentScreen === 'ranking') document.getElementById('nav-ranking').classList.add('active');

                // Header Logic
                const headerT = document.getElementById('header-title');
                const hearts = document.getElementById('hearts-display');
                
                if(this.state.currentScreen === 'quiz') {
                    headerT.innerText = "Quiz"; hearts.classList.remove('hidden');
                } else {
                    headerT.innerText = "F√© Power-Up"; hearts.classList.add('hidden');
                }

                if (this.state.currentScreen === 'map') app.innerHTML = this.renderMap();
                else if (this.state.currentScreen === 'ranking') this.renderRanking();
                else if (this.state.currentScreen === 'lesson') this.renderLesson();
                else if (this.state.currentScreen === 'quiz') app.innerHTML = this.renderQuiz();
                else if (this.state.currentScreen === 'result') app.innerHTML = this.renderResult();
            },

            renderMap() {
                // Adicionei pb-32 para dar espa√ßo no final
                let h = '<div class="flex flex-col items-center p-4 space-y-6 pb-32 w-full">';
                Object.keys(courseData).map(Number).sort((a,b)=>a-b).forEach(id => {
                    const l = courseData[id];
                    const done = !!this.userProgress.completedLessons[id];
                    const open = id === 1 || !!this.userProgress.completedLessons[id-1];
                    const icon = done ? '‚úì' : (id===13||id===28?'üèÜ':'‚òÖ');
                    const color = open ? (done?'bg-yellow-400 border-yellow-600':'bg-green-500 border-green-700') : 'bg-gray-300 border-gray-400';
                    const margin = id%2===0 ? 'ml-12' : 'mr-12';
                    
                    h += `<div class="flex flex-col items-center ${margin} ${open?'':'opacity-70'}">
                        <button onclick="window.App.start(${id})" ${!open?'disabled':''} class="w-20 h-20 rounded-full border-b-4 flex items-center justify-center text-3xl text-white font-bold shadow-lg mb-2 transition active:scale-95 ${color}">${icon}</button>
                        <span class="text-xs font-bold text-gray-500 bg-white px-2 py-1 rounded border shadow-sm max-w-[120px] text-center leading-tight">${l.title}</span>
                    </div>`;
                });
                return h + '</div>';
            },

            async renderRanking() {
                const app = document.getElementById('app');
                // Adicionei pb-32 aqui tamb√©m
                app.innerHTML = '<div class="p-6 text-center pb-32"><h2 class="text-2xl font-bold mb-4">üèÜ Melhores Alunos</h2><div id="list" class="space-y-3"><p>Carregando...</p></div></div>';
                const list = await window.getLeaderboard();
                const div = document.getElementById('list');
                div.innerHTML = '';
                if(list.length===0) div.innerHTML = '<p class="text-gray-500">Ranking vazio.</p>';
                list.forEach((u, i) => {
                    const isMe = u.name === this.userProgress.name;
                    div.innerHTML += `<div class="flex justify-between items-center p-4 rounded-xl border-b-4 ${isMe?'bg-blue-50 border-blue-200':'bg-white border-gray-100'}">
                        <span class="font-bold text-lg w-8">#${i+1}</span>
                        <span class="font-bold flex-grow text-left ${isMe?'text-blue-600':''}">${u.name}</span>
                        <span class="font-bold text-yellow-600">${u.score} XP</span>
                    </div>`;
                });
            },

            start(id) {
                if(courseData[id].content.length) this.navigateTo('lesson', id);
                else this.startQuiz(id);
            },

            renderLesson() {
                const l = courseData[this.state.currentParam];
                const app = document.getElementById('app');
                // Aqui est√° a M√ÅGICA: pb-48 (muito espa√ßo embaixo) e bot√£o fixo mais alto (bottom-[70px])
                let h = `<div class="p-6 pb-48 animate-slide-up"><h2 class="text-2xl font-bold mb-2">${l.title}</h2><p class="text-sm font-bold text-gray-400 mb-6 uppercase">${l.bible_ref}</p><div class="space-y-4">`;
                l.content.forEach(t => h+=`<div class="bg-white p-4 rounded-xl border-2 border-gray-100 text-lg text-gray-700 shadow-sm">${t.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>')}</div>`);
                
                // Bot√£o posicionado acima da barra de navega√ß√£o
                h += `</div><div class="fixed bottom-[70px] left-0 right-0 p-4 bg-gradient-to-t from-white via-white to-transparent z-40 max-w-2xl mx-auto"><button onclick="window.App.startQuiz(${l.id})" class="w-full duo-start-btn py-4 rounded-xl text-white font-bold text-lg uppercase shadow">Come√ßar Quiz</button></div></div>`;
                app.innerHTML = h;
            },

            startQuiz(id) {
                this.state.hearts = 5; this.state.quizScore = 0; this.state.quizIndex = 0;
                this.state.quizData = [...courseData[id].quiz_questions].sort(()=>Math.random()-0.5).slice(0,10);
                this.navigateTo('quiz', id);
            },

            renderQuiz() {
                const q = this.state.quizData[this.state.quizIndex];
                const p = (this.state.quizIndex / this.state.quizData.length)*100;
                const opts = [q.a, ...q.o].sort(()=>Math.random()-0.5);
                // pb-40 no container do quiz
                return `<div class="p-4 pb-40 h-full flex flex-col"><div class="w-full bg-gray-200 rounded-full h-3 mb-6"><div class="bg-green-500 h-3 rounded-full transition-all" style="width:${p}%"></div></div>
                <h2 class="text-2xl font-bold text-gray-700 mb-6 flex-grow">${q.q}</h2>
                <div class="space-y-3">${opts.map(o => `<button onclick="window.App.check(this, '${o.replace(/'/g,"\\'")}', '${q.a.replace(/'/g,"\\'")}')" class="duo-option-btn w-full p-4 rounded-xl text-left text-lg font-medium text-gray-700">${o}</button>`).join('')}</div></div>`;
            },

            check(btn, sel, cor) {
                document.querySelectorAll('.duo-option-btn').forEach(b => b.disabled = true);
                if(sel===cor) { btn.classList.add('duo-correct'); this.state.quizScore++; }
                else { btn.classList.add('duo-wrong'); this.state.hearts--; document.querySelectorAll('.duo-option-btn').forEach(b=>{if(b.innerText===cor)b.classList.add('duo-correct')}); }
                
                // Feedback tamb√©m posicionado acima da barra de navega√ß√£o
                const div = document.createElement('div');
                div.className = `fixed bottom-[70px] left-0 right-0 p-4 border-t-2 z-40 animate-slide-up max-w-2xl mx-auto ${sel===cor?'bg-green-100 border-green-300':'bg-red-100 border-red-300'}`;
                div.innerHTML = `<div class="flex justify-between items-center"><span class="font-bold text-xl ${sel===cor?'text-green-700':'text-red-700'}">${sel===cor?'Correto!':'Errado...'}</span><button onclick="window.App.next()" class="px-6 py-3 rounded-xl font-bold text-white uppercase ${sel===cor?'bg-green-500 border-b-4 border-green-700':'bg-red-500 border-b-4 border-red-700'}">Continuar</button></div>`;
                document.body.appendChild(div);
            },

            next() {
                // Remove corretamente o footer
                const feedback = document.querySelector('.fixed.bottom-\\[70px\\]');
                if(feedback) feedback.remove();
                
                if(this.state.hearts<=0) return this.finish(false);
                this.state.quizIndex++;
                if(this.state.quizIndex>=this.state.quizData.length) this.finish(true);
                else document.getElementById('app').innerHTML = this.renderQuiz();
            },

            finish(pass) {
                const id = this.state.currentParam;
                const win = pass && this.state.quizScore >= Math.ceil(this.state.quizData.length*0.6);
                if(win) {
                    if(!this.userProgress.completedLessons[id]) {
                        this.userProgress.score += courseData[id].points;
                        this.userProgress.completedLessons[id] = true;
                    }
                    window.saveProgress(this.userProgress);
                }
                this.navigateTo('result', { win, s: this.state.quizScore, t: this.state.quizData.length });
            },

            renderResult() {
                const { win, s, t } = this.state.currentParam;
                return `<div class="flex flex-col items-center justify-center h-full p-6 text-center animate-slide-up pb-32">
                    <div class="text-8xl mb-4">${win?'üéâ':'üíî'}</div><h2 class="text-3xl font-bold mb-2 ${win?'text-green-600':'text-red-500'}">${win?'Li√ß√£o Conclu√≠da!':'N√£o desista!'}</h2>
                    <p class="text-gray-500 text-lg mb-8">Acertou ${s} de ${t}</p>
                    <button onclick="window.App.navigateTo('map')" class="w-full duo-start-btn py-4 rounded-xl text-white font-bold text-lg uppercase">Continuar</button></div>`;
            },
            
            loadLeaderboard() { this.navigateTo('ranking'); }
        };
    </script>
</body>
</html>
